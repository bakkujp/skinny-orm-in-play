(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";
var TweetService = require('./TweetService').default;
var TwitterController = require('./TwitterController').default;

var services = angular.module('twitter.services', [])
  .service('TweetService', TweetService);

var controllers = angular.module('twitter.controllers', [])
  .controller('TwitterController', TwitterController);

exports.default = angular.module('twitter', [
  services.name,
  controllers.name
]);



},{"./TweetService":2,"./TwitterController":3}],2:[function(require,module,exports){
"use strict";

var _classProps = function(child, staticProps, instanceProps) {
  if (staticProps)
    Object.defineProperties(child, staticProps);

  if (instanceProps)
    Object.defineProperties(child.prototype, instanceProps);
};

exports.default = function() {
  var TweetService = function TweetService($http) {
    this.$http = $http;
  };

  _classProps(TweetService, null, {
    findAll: {
      writable: true,

      value: function() {
        return this.$http.get('/tweets');
      }
    },

    findAllByUserId: {
      writable: true,

      value: function(userId) {
        return this.$http.get('/users/' + userId + '/tweets');
      }
    },

    post: {
      writable: true,

      value: function(tweet) {
        return this.$http.post('/tweets', tweet);
      }
    },

    deleteByTweetId: {
      writable: true,

      value: function(tweetId) {
        return this.$http.delete('/tweets/' + tweetId);
      }
    }
  });

  return TweetService;
}();



},{}],3:[function(require,module,exports){
"use strict";

var _classProps = function(child, staticProps, instanceProps) {
  if (staticProps)
    Object.defineProperties(child, staticProps);

  if (instanceProps)
    Object.defineProperties(child.prototype, instanceProps);
};

exports.default = function() {
  var TwitterController = function TwitterController($http, $window, TweetService) {
    this.newTweet = {userName: 'Kaz'};
    this.validationErrors = [];
    this.$window = $window;
    this.service = TweetService;
  };

  _classProps(TwitterController, null, {
    refreshTimeline: {
      writable: true,

      value: function() {
        var _this = this;
        this.service.findAll().success(function(tweets) {
          _this.tweets = tweets;
        });
      }
    },

    postTweet: {
      writable: true,

      value: function(newTweet) {
        var _this2 = this;
        this.service.post(newTweet).success(function(data) {
          _this2.newTweet.text = null;
          _this2.validationErrors = [];
          _this2.refreshTimeline();
        }).error(function(errors) {
          _this2.validationErrors = errors;
          _this2.refreshTimeline();
        });
      }
    },

    showTweetsForUser: {
      writable: true,

      value: function(user) {
        var _this3 = this;
        this.service.findAllByUserId(user.id).success(function(tweets) {
          _this3.userInModal = user;
          _this3.userInModal.tweets = tweets;
          $('#myModal').modal('toggle');
        });
      }
    },

    deleteTweet: {
      writable: true,

      value: function(tweet) {
        var _this4 = this;
        this.service.deleteByTweetId(tweet.id).success(function(res) {
          _this4.refreshTimeline();
        }).error(function(res) {
          _this4.$window.alert('Failed to delete tweet!');
          _this4.refreshTimeline();
        });
      }
    }
  });

  return TwitterController;
}();



},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvc2VyYXRjaC9Eb2N1bWVudHMvZ2l0aHViL3NraW5ueS1vcm0taW4tcGxheS9mcm9udC9zcmMvYXBwLmpzIiwiL1VzZXJzL3NlcmF0Y2gvRG9jdW1lbnRzL2dpdGh1Yi9za2lubnktb3JtLWluLXBsYXkvZnJvbnQvc3JjL1R3ZWV0U2VydmljZS5qcyIsIi9Vc2Vycy9zZXJhdGNoL0RvY3VtZW50cy9naXRodWIvc2tpbm55LW9ybS1pbi1wbGF5L2Zyb250L3NyYy9Ud2l0dGVyQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7SUNBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDWCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUV2QixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztFQUNsRCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUV4QyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztFQUN4RCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7O2tCQUV0QyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0VBQ3ZDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDYixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7O01DWm9CLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFYLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUNsQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUc7SUFDakIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUNwQjs7Y0FIbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7O3dCQUtwQjtRQUNSLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDbEM7Ozs7OztzQkFFZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUc7UUFDdEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDdkQ7Ozs7OztzQkFFSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUc7UUFDVixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDMUM7Ozs7OztzQkFFZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRztRQUN2QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQ2hEOzs7O1NBbkJtQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O01DQVgsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFoQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ3ZCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHO0lBQ3hDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzFCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQzdCOztjQU5tQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7Ozs7UUFTakMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBTTtlQUNyQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEIsQ0FBQyxDQUFDOzs7Ozs7O3NCQUdNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7O1FBQ2YsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBTTtnQkFDeEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDckIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUN0QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBTTtnQkFDZixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDMUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDOzs7Ozs7O3NCQUdjLENBQUMsQ0FBQyxDQUFDOztRQUNuQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFNO2dCQUNwRCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25CLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztVQUNoQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsQ0FBQyxDQUFDOzs7Ozs7O3NCQUdRLENBQUMsQ0FBQyxDQUFDLENBQUM7O1FBQ2QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFFLENBQUMsQ0FBQyxHQUFNO2dCQUNsRCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBRSxDQUFDLENBQUMsR0FBTTtnQkFDWixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQzs7Ozs7U0F2Q2UsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgVHdlZXRTZXJ2aWNlIGZyb20gJy4vVHdlZXRTZXJ2aWNlJztcbmltcG9ydCBUd2l0dGVyQ29udHJvbGxlciBmcm9tICcuL1R3aXR0ZXJDb250cm9sbGVyJztcblxudmFyIHNlcnZpY2VzID0gYW5ndWxhci5tb2R1bGUoJ3R3aXR0ZXIuc2VydmljZXMnLCBbXSlcbiAgLnNlcnZpY2UoJ1R3ZWV0U2VydmljZScsIFR3ZWV0U2VydmljZSk7XG5cbnZhciBjb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCd0d2l0dGVyLmNvbnRyb2xsZXJzJywgW10pXG4gIC5jb250cm9sbGVyKCdUd2l0dGVyQ29udHJvbGxlcicsIFR3aXR0ZXJDb250cm9sbGVyKTtcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhci5tb2R1bGUoJ3R3aXR0ZXInLCBbXG4gIHNlcnZpY2VzLm5hbWUsXG4gIGNvbnRyb2xsZXJzLm5hbWVcbl0pO1xuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUd2VldFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkaHR0cCkge1xuICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcbiAgfVxuXG4gIGZpbmRBbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KCcvdHdlZXRzJyk7XG4gIH1cbiBcbiAgZmluZEFsbEJ5VXNlcklkKHVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgnL3VzZXJzLycgKyB1c2VySWQgKyAnL3R3ZWV0cycpO1xuICB9XG5cbiAgcG9zdCh0d2VldCkge1xuICAgIHJldHVybiB0aGlzLiRodHRwLnBvc3QoJy90d2VldHMnLCB0d2VldCk7XG4gIH1cblxuICBkZWxldGVCeVR3ZWV0SWQodHdlZXRJZCkge1xuICAgIHJldHVybiB0aGlzLiRodHRwLmRlbGV0ZSgnL3R3ZWV0cy8nICsgdHdlZXRJZCk7XG4gIH1cblxufVxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUd2l0dGVyQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRodHRwLCAkd2luZG93LCBUd2VldFNlcnZpY2UpIHtcbiAgICB0aGlzLm5ld1R3ZWV0ID0ge3VzZXJOYW1lOiAnS2F6J307XG4gICAgdGhpcy52YWxpZGF0aW9uRXJyb3JzID0gW107XG4gICAgdGhpcy4kd2luZG93ID0gJHdpbmRvdztcbiAgICB0aGlzLnNlcnZpY2UgPSBUd2VldFNlcnZpY2U7XG4gIH1cblxuICByZWZyZXNoVGltZWxpbmUoKSB7XG4gICAgdGhpcy5zZXJ2aWNlLmZpbmRBbGwoKS5zdWNjZXNzKCh0d2VldHMpID0+IHtcbiAgICAgIHRoaXMudHdlZXRzID0gdHdlZXRzO1xuICAgIH0pO1xuICB9XG5cbiAgcG9zdFR3ZWV0KG5ld1R3ZWV0KSB7XG4gICAgdGhpcy5zZXJ2aWNlLnBvc3QobmV3VHdlZXQpLnN1Y2Nlc3MoKGRhdGEpID0+IHtcbiAgICAgIHRoaXMubmV3VHdlZXQudGV4dCA9IG51bGw7XG4gICAgICB0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSBbXTtcbiAgICAgIHRoaXMucmVmcmVzaFRpbWVsaW5lKCk7XG4gICAgfSkuZXJyb3IoKGVycm9ycykgPT4ge1xuICAgICAgdGhpcy52YWxpZGF0aW9uRXJyb3JzID0gZXJyb3JzO1xuICAgICAgdGhpcy5yZWZyZXNoVGltZWxpbmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNob3dUd2VldHNGb3JVc2VyKHVzZXIpIHtcbiAgICB0aGlzLnNlcnZpY2UuZmluZEFsbEJ5VXNlcklkKHVzZXIuaWQpLnN1Y2Nlc3MoKHR3ZWV0cykgPT4ge1xuICAgICAgdGhpcy51c2VySW5Nb2RhbCA9IHVzZXI7XG4gICAgICB0aGlzLnVzZXJJbk1vZGFsLnR3ZWV0cyA9IHR3ZWV0cztcbiAgICAgICQoJyNteU1vZGFsJykubW9kYWwoJ3RvZ2dsZScpO1xuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlVHdlZXQodHdlZXQpIHtcbiAgICB0aGlzLnNlcnZpY2UuZGVsZXRlQnlUd2VldElkKHR3ZWV0LmlkKS5zdWNjZXNzKChyZXMpID0+IHtcbiAgICAgIHRoaXMucmVmcmVzaFRpbWVsaW5lKCk7XG4gICAgfSkuZXJyb3IoKHJlcykgPT4ge1xuICAgICAgdGhpcy4kd2luZG93LmFsZXJ0KCdGYWlsZWQgdG8gZGVsZXRlIHR3ZWV0IScpO1xuICAgICAgdGhpcy5yZWZyZXNoVGltZWxpbmUoKTtcbiAgICB9KTtcbiAgfVxuXG59XG5cbiJdfQ==
